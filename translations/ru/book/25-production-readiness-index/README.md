# 25. Индекс Прод-готовности

## Зачем это нужно?

Вы завершили основной курс и понимаете основы агентов. Теперь пора перейти от "учебного агента" к "прод-агенту", который работает надёжно, безопасно и эффективно в реальных средах.

Эта глава — **руководство по приоритизации** и быстрый справочник по прод-темам. Она помогает понять, что внедрять первым, и предоставляет быстрые ссылки на детальные главы.

### Реальный кейс

**Ситуация:** Вы построили рабочего агента локально. Хотите развернуть его в продакшен, но не знаете, с чего начать.

**Проблема:**
- Слишком много прод-тем для изучения сразу
- Не знаете, что критично vs. nice-to-have
- Нужно руководство по приоритизации

**Решение:** Этот индекс даёт приоритизированный roadmap: начните с обязательных блоков (observability, контроль стоимости, безопасность), затем добавляйте темы по мере роста.

## Руководство по приоритизации

### Режим 1: Срочно в прод за 1 день (минимальный набор)

Если вам нужно запустить агента в прод **прямо сейчас**, начните с этих трёх тем:

1. **[19. Observability и Tracing](../19-observability-and-tracing/README.md)** — Без этого вы слепы. Нужно сразу.
2. **[20. Cost & Latency Engineering](../20-cost-latency-engineering/README.md)** — Критично для контроля бюджета.
3. **[17. Security и Governance](../17-security-and-governance/README.md)** — Обязательный прод-блок.

Эти три темы дадут вам базовую прод-готовность: вы будете видеть, что происходит, контролировать стоимость и защищать систему.

### Режим 2: Плановая доводка за 1–2 недели (расширенный набор)

Если у вас есть время на плановую доработку, добавьте темы по мере роста:

**Неделя 1:**
- **[21. Workflow и State Management](../21-workflow-state-management/README.md)** — Когда агенты выполняют долгие задачи
- **[22. Prompt и Program Management](../22-prompt-program-management/README.md)** — Когда промпты меняются часто
- **[23. Evals в CI/CD](../23-evals-in-cicd/README.md)** — Автоматическая проверка качества

**Неделя 2:**
- **[24. Data и Privacy](../24-data-and-privacy/README.md)** — Если работаете с персональными данными

## Обзор прод-тем

### Обязательные прод-блоки (нужны сразу)

#### [19. Observability и Tracing](../19-observability-and-tracing/README.md)
**Когда нужно:** Сразу, как только агент выходит в прод.

**Что внутри:** Структурированное логирование, трейсинг agent runs и tool calls, метрики (latency, token usage, error rate), кореляция логов через `run_id`.

#### [20. Cost & Latency Engineering](../20-cost-latency-engineering/README.md)
**Когда нужно:** Когда агент используется активно или работает с большими контекстами.

**Что внутри:** Бюджеты токенов, лимиты итераций, кэширование, fallback-модели, батчинг, таймауты.

#### [17. Security и Governance](../17-security-and-governance/README.md)
**Когда нужно:** Сразу, как только агент выходит в прод.

**Что внутри:** Threat modeling для tool-агентов, risk scoring, защита от prompt injection, RBAC к инструментам, dry-run режимы, аудит.

### Темы по мере роста

#### [21. Workflow и State Management в продакшене](../21-workflow-state-management/README.md)
**Когда нужно:** Когда агенты выполняют долгие задачи (минуты или часы), нужна идемпотентность или обработка ошибок с retry.

**Что внутри:** Очереди и асинхронность, масштабирование, распределённое состояние. Базовые концепции (идемпотентность, retries, дедлайны) описаны в [Главе 11: State Management](../11-state-management/README.md).

#### [22. Prompt и Program Management](../22-prompt-program-management/README.md)
**Когда нужно:** Когда промпты меняются часто, есть несколько версий или нужен A/B тестинг.

**Что внутри:** Версионирование промптов, промпт-регрессии через evals, конфиги и feature flags, A/B тестинг.

#### [23. Evals в CI/CD](../23-evals-in-cicd/README.md)
**Когда нужно:** Когда промпты или код меняются часто и нужна автоматическая проверка качества.

**Что внутри:** Quality gates в CI/CD, версионирование датасетов, обработка flaky-кейсов, тесты на безопасность.

### Специализированные темы

#### [24. Data и Privacy](../24-data-and-privacy/README.md)
**Когда нужно:** Когда агент работает с персональными данными (PII) или секретами.

**Что внутри:** Обнаружение и маскирование PII, защита секретов, redaction логов, хранение и TTL логов.

**Примечание:** Прод-аспекты RAG и Multi-Agent описаны в базовых главах [06](../06-rag/README.md) и [07](../07-multi-agent/README.md). Выбор модели и настройка декодинга описаны в [Главе 01](../01-llm-fundamentals/README.md) и [Lab 00](../../labs/lab00-capability-check/README.md).

## Алгоритм приоритизации

Не пытайтесь изучить всё сразу. Используйте этот алгоритм:

1. **Начните с обязательных прод-блоков:**
   - Observability (логирование, трейсинг) — нужно сразу, без этого вы слепы
   - Cost & latency engineering — критично, если агент используется активно
   - Безопасность и Governance — обязательный прод-блок

2. **Добавьте темы по мере роста:**
   - Workflow/state — когда агенты выполняют долгие задачи или нужна идемпотентность
   - Prompt/program management — когда промпты меняются часто или есть несколько версий
   - Evals в CI/CD — когда нужна автоматическая проверка качества

3. **Специализированные темы:**
   - Data/privacy — если работаете с персональными данными
   - RAG/Multi-Agent прод-аспекты — см. прод-заметки в [Главе 06](../06-rag/README.md) и [Главе 07](../07-multi-agent/README.md)

## Связь с другими главами

- **Основы:** Базовые концепции изучены в [Главах 01-12](../README.md)
- **Продвинутые паттерны:** Экосистема и паттерны изучены в [Главах 13-18](../README.md)
- **Прод-темы:** Детальные прод-руководства в [Главах 20-24](../README.md)

## Что дальше?

После внедрения прод-готовности ваш агент готов к развёртыванию в реальном мире. Продолжайте мониторинг, итерации и улучшения на основе прод-метрик и обратной связи пользователей.

---

**Навигация:** [← Data и Privacy](../24-data-and-privacy/README.md) | [Оглавление](../README.md) | [Приложение →](../appendix/README.md)

