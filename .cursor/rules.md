# Правила написания документации для Cursor AI

Эти правила применяются при редактировании файлов в `docs/book/*`. См. подробное руководство: [`docs/book/STYLE.md`](docs/book/STYLE.md)

## Обязательная структура главы

Каждая глава `docs/book/*/README.md` должна содержать:

1. **Зачем это нужно?** (1-2 абзаца)
2. **Реальный кейс** (ситуация → проблема → решение)
3. **Теория простыми словами** (интуиция, без формализации)
4. **Как это работает (пошагово)** (алгоритм с примерами кода)
5. **Мини-пример кода** (минимальный → расширенный)
6. **Типовые ошибки** (минимум 3-5, формат: симптом → причина → решение)
7. **Мини-упражнения** (практические задания)
8. **Чек-лист "Готово"** (критерии понимания)
9. **Для любопытных** (опционально, формализация/математика)
10. **Связь с другими главами** (ссылки)
11. **Что дальше?** (навигация)

## Правила простого языка

- **Короткие предложения** (до 20 слов)
- **Один факт на предложение**
- **Активный залог** ("Агент вызывает функцию", не "Функция вызывается агентом")
- **Сначала объясняем простыми словами**, потом используем термин
- **Единообразие терминов** — один термин для одного понятия
- **Англицизмы только при необходимости** — если есть хороший русский эквивалент, используем его

## Примеры кода

- **Минимальный пример сначала** — показываем самую простую рабочую версию
- **Затем расширяем** — добавляем сложность постепенно
- **Комментарии объясняют "почему"**, а не "что" (код самодокументирован)
- **Избегаем "простыней"** — если пример длинный, разбиваем на шаги
- **Всегда показываем ПЛОХО → ХОРОШО** в типовых ошибках

## Формат "Типовые ошибки"

```markdown
### Ошибка N: [Краткое название]

**Симптом:** [Что видит пользователь]

**Причина:** [Почему это происходит]

**Решение:**
```go
// ПЛОХО
[Неправильный код]

// ХОРОШО
[Правильный код]
```
```

## Формат "Мини-упражнения"

```markdown
### Упражнение N: [Название]

[Описание задания]

```go
// Шаблон кода (если нужен)
```

**Ожидаемый результат:**
- [Критерий 1]
- [Критерий 2]
```

## Формат "Чек-лист"

```markdown
## Критерии сдачи / Чек-лист

✅ **Сдано:**
- [Критерий 1]
- [Критерий 2]

❌ **Не сдано:**
- [Типовая ошибка 1]
- [Типовая ошибка 2]
```

## Паттерн "Магия vs Реальность"

Для объяснения сложных концепций используем:

```markdown
### [Концепция] — Магия vs Реальность

**❌ Магия (как обычно объясняют):**
> [Упрощенное/неправильное объяснение]

**✅ Реальность (как на самом деле):**

[Детальное объяснение с примерами кода]
```

## Примеры из разных доменов

- **Один главный сквозной сценарий (DevOps)** в каждой главе
- **1-2 коротких примера из других доменов** только там, где это усиливает понимание
- **Не дублируем примеры** — если примеры одинаковые, оставляем один

## Математика и формализация

- **В основном тексте** — только интуиция и практика
- **Формализацию и математику** выносим в раздел "Для любопытных" в конце главы
- **Математические формулы** только если действительно необходимы для понимания

## Навигация

В конце каждой главы:

```markdown
---

**Навигация:** [← Предыдущая глава](../XX-prev/README.md) | [Оглавление](../README.md) | [Следующая глава →](../XX-next/README.md)
```

## Проверка перед коммитом

Перед коммитом проверь:

- [ ] Структура соответствует шаблону главы
- [ ] Есть раздел "Зачем это нужно?"
- [ ] Есть реальный кейс
- [ ] Есть минимум 3 типовые ошибки
- [ ] Есть мини-упражнения
- [ ] Есть чек-лист
- [ ] Примеры кода минимальны и понятны
- [ ] Нет академического жаргона без объяснения
- [ ] Все ссылки работают
- [ ] Навигация в конце главы корректна

## Терминология (глоссарий)

**Единообразие терминов:**
- `Function Calling` (не `function calling`, не `function-calling`)
- `Tool` / `Инструмент` (используем оба, но последовательно)
- `System Prompt` (не `system prompt`, не `системный промпт` в техническом контексте)
- `LLM` (не `llm`, не `модель` в техническом контексте)
- `Agent Loop` / `Цикл агента` (используем оба)
- `ReAct Loop` (не `react loop`, не `ReAct-цикл`)

**Правило:** При первом упоминании даем русский эквивалент в скобках, затем используем термин последовательно.

## Ссылки

- На другие главы: `[Название](../XX-chapter/README.md)`
- На лабораторные: `[Lab XX: Название](../../labs/labXX-name/README.md)`
- На разделы: `[Название раздела](../XX-chapter/README.md#anchor)`
- Всегда используем относительные пути
- Используем описательные названия ссылок, а не "здесь" или "тут"

---

**См. подробное руководство:** [`docs/book/STYLE.md`](docs/book/STYLE.md)

