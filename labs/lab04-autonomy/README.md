# Lab 04: The Agent Loop (Autonomy)

## Цель
Собрать всё вместе: Мозг + Инструменты + Память. Реализовать паттерн **ReAct** (Reason + Act). Агент должен автономно решать задачу в цикле.

## Теория
Автономный агент работает в цикле:
```
While (Задача не решена):
  1. Отправить историю в LLM.
  2. Получить ответ.
  3. ЕСЛИ это текст -> Показать пользователю и ждать нового ввода.
  4. ЕСЛИ это вызов инструмента -> 
       a. Выполнить инструмент.
       b. Добавить результат в историю.
       c. GOTO 1 (ничего не спрашивая у пользователя!).
```
Именно пункт 4.c дает "магию" — агент сам смотрит на результат и решает, что делать дальше.

## Задание
В `main.go` — большой каркас.

1.  **Tools:** У вас есть 2 инструмента: `check_disk_usage` (возвращает 95%) и `clean_logs` (освобождает место).
2.  **The Loop:** Реализуйте функцию `RunAgentLoop`. Она должна крутиться до тех пор, пока LLM не ответит обычным текстом.
3.  **Scenario:** Запустите агента с промптом: *"У меня кончилось место на сервере. Разберись."*
    *   Ожидание: Агент вызовет `check_disk_usage` -> увидит 95% -> сам решит вызвать `clean_logs` -> проверит снова -> скажет "Готово".

## Важно
Не забудьте обрабатывать ошибки и добавлять их в историю! Если инструмент упал, LLM должна это узнать и попробовать что-то другое.

